{"version":3,"sources":["main.js"],"names":["$siteList","$","$lastLi","find","x","localStorage","getItem","xObject","JSON","parse","hashMap","name","url","logo","simplifyUrl","replace","simplifyName","responseText","trim","render","remove","forEach","node","index","$li","insertBefore","on","window","open","e","stopPropagation","splice","prompt","indexOf","console","log","ajax","complete","data","push","toUpperCase","description","onbeforeunload","string","stringify","setItem"],"mappings":"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","file":"main.292a5356.js","sourceRoot":"../src","sourcesContent":["let $siteList = $('.siteList');\nconst $lastLi = $siteList.find('li:last')\n\nconst x = localStorage.getItem('x')\nconst xObject = JSON.parse(x)\n\nconst hashMap = xObject || [{\n        name: 'w3c',\n        url: 'https://www.w3.org/',\n        logo: 'W',\n    },\n    {\n        name: 'MDN',\n        url: 'https://developer.mozilla.org/zh-CN/',\n        logo: 'M',\n    },\n    {\n        name: '张鑫旭',\n        url: 'https://www.zhangxinxu.com/wordpress/',\n        logo: '张',\n    }\n]\n\n// 简化URL\nconst simplifyUrl = (url) => {\n    return url.replace('https://', '')\n        .replace('http://', '')\n        .replace('www.', '')\n        .replace(/\\/.*/, '') // 删除 / 开头的内容\n}\n\n// 简化网站名称\nconst simplifyName = (name) => {\n    return name.responseText.replace('\\w+[-\\s]', '')\n        .replace('-', '')\n        .replace(',', '')\n        .replace('，', '')\n        .trim();\n}\n\n\n\nconst render = () => {\n    $siteList.find('li:not(:last)').remove()\n    hashMap.forEach((node, index) => {\n        const $li = $(`<li>\n        <div class=\"site\">\n          <div class=\"siteLogo\">${node.logo}</div>\n          <span class=\"siteName\">${node.name}</span>\n            <div class=\"removeSite\">\n                <svg class=\"icon\" aria-hidden=\"true\">\n                    <use xlink:href=\"#icon-delete\"></use>\n                </svg>\n            </div>\n        </div>\n      </li>`).insertBefore($lastLi)\n        $li.on('click', () => {\n            window.open(node.url)\n        })\n        $li.on('click', '.removeSite', (e) => {\n            e.stopPropagation() // 阻止冒泡\n            hashMap.splice(index, 1)\n            render()\n        })\n    })\n}\n\nrender();\n\n\n$('.addSite').on('click', () => {\n    let url = window.prompt('请问你要添加的网址是啥？')\n    if (url.indexOf('http') !== 0) {\n        url = 'https://' + url\n    }\n    console.log('%c 添加的网站的URL: ', 'color: orange; font-weight: bold;', url)\n    $.ajax({\n        url: \"http://textance.herokuapp.com/title/\" + url,\n        complete: function (data) {\n            console.log(simplifyName(data));\n            hashMap.push({\n                name: simplifyName(data),\n                logo: simplifyName(data)[0].toUpperCase(),\n                url: url,\n                description: '描述'\n            })\n            render()\n        }\n    });\n})\n\nwindow.onbeforeunload = () => {\n    const string = JSON.stringify(hashMap)\n    localStorage.setItem('x', string)\n}"]}